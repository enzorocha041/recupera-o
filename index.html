<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seguran√ßa Digital & Matem√°tica ‚Äî Mini Criptografia</title>
  <meta name="description" content="P√°gina did√°tica que explica como a matem√°tica protege dados (criptografia) e inclui um demo de cifra de C√©sar." />
  <style>
    :root {
      --bg: #0f1320;
      --card: #141a2e;
      --ink: #e6ebff;
      --muted: #a1a9c9;
      --accent: #6c8cff;
      --accent-2: #21d4a5;
      --danger: #ff6c8c;
      --radius: 16px;
    }
    * { box-sizing: border-box }
    html, body { height: 100% }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 10% -10%, #152046 0%, transparent 60%),
                  radial-gradient(1000px 600px at 100% 0%, #0f2447 0%, transparent 60%),
                  var(--bg);
      color: var(--ink);
      line-height: 1.55;
    }
    a { color: var(--accent); text-decoration: none }
    a:hover { text-decoration: underline }

    .container {
      max-width: 1024px;
      margin: 0 auto;
      padding: 32px 20px 64px;
      display: grid;
      gap: 24px;
    }

    header.hero {
      display: grid;
      gap: 12px;
      text-align: center;
      padding: 28px 20px;
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(108,140,255,.12), rgba(33,212,165,.08));
      border: 1px solid rgba(108,140,255,.25);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    header.hero h1 {
      margin: 0;
      font-size: clamp(1.6rem, 3vw, 2.2rem);
      letter-spacing: .3px;
    }
    header.hero p { margin: 0; color: var(--muted) }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 20px;
    }
    .card { background: var(--card); border: 1px solid rgba(255,255,255,.06); border-radius: var(--radius); box-shadow: 0 8px 20px rgba(0,0,0,.25) }
    .card .pad { padding: 20px }

    .span-7 { grid-column: span 7 }
    .span-5 { grid-column: span 5 }
    @media (max-width: 900px){
      .span-7, .span-5 { grid-column: 1 / -1 }
    }

    .badge { display:inline-flex; align-items:center; gap:8px; font-size:.86rem; color:#0a0f1f; background: linear-gradient(135deg, var(--accent), var(--accent-2)); border-radius: 999px; padding: 6px 10px; font-weight: 700 }

    h2 { margin: 0 0 8px }
    .muted { color: var(--muted) }

    code, kbd, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace }
    pre { background: #0a0f1f; border-radius: 12px; padding: 12px 14px; overflow:auto; border: 1px dashed rgba(255,255,255,.08) }

    .controls { display:grid; gap:12px; margin: 8px 0 16px }
    .row { display:flex; gap:12px; flex-wrap:wrap }
    input[type="text"], input[type="number"], textarea {
      width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(255,255,255,.12);
      background: #0b1224; color: var(--ink);
      outline: none; transition: border .15s ease;
    }
    input:focus, textarea:focus { border-color: var(--accent) }

    button {
      appearance: none; border: none; cursor: pointer; font-weight: 800; letter-spacing:.3px;
      padding: 12px 16px; border-radius: 12px; background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #051227; box-shadow: 0 8px 18px rgba(33, 212, 165, .18);
    }
    button.secondary { background: #0b1224; color: var(--ink); border:1px solid rgba(255,255,255,.12) }

    .pill { font-weight:700; color: var(--accent-2) }
    .footer { text-align:center; color: var(--muted); font-size:.9rem }

    .result { border: 1px solid rgba(33,212,165,.35); background: rgba(33,212,165,.06); padding: 14px; border-radius: 12px; word-wrap: break-word }

    .math-step { display:grid; gap:8px; margin-top: 8px }
    .math-step small { color: var(--muted) }
  </style>
</head>
<body>
  <!--
    ‚úÖ Como publicar no GitHub Pages (passo r√°pido):
    1) Crie um reposit√≥rio e adicione este arquivo como "index.html" na raiz.
    2) Commit > Settings > Pages > Source: "Deploy from a branch" > main / (root).
    3) Aguarde o build e abra a URL indicada.
  -->

  <div class="container">
    <header class="hero">
      <span class="badge">üîê Seguran√ßa Digital + Matem√°tica</span>
      <h1>Como a Matem√°tica Protege seus Dados (com um demo de criptografia)</h1>
      <p>Criptografia = transformar <em>mensagens leg√≠veis</em> em <em>c√≥digos</em> usando regras matem√°ticas. S√≥ quem possui a chave consegue voltar ao texto original.</p>
    </header>

    <main class="grid" role="main">
      <section class="card span-7" aria-labelledby="intro-title">
        <div class="pad">
          <h2 id="intro-title">Ideia central</h2>
          <p class="muted">Na internet, seus dados viajam por v√°rios servidores. Para que ningu√©m leia no caminho, usamos <strong>fun√ß√µes matem√°ticas</strong> que embaralham o conte√∫do. Em sistemas modernos (como HTTPS), entram conceitos como <em>aritm√©tica modular</em>, <em>potencia√ß√£o</em> e <em>teoria dos n√∫meros</em>. Aqui vamos ver uma vers√£o simplificada: a <strong>cifra de C√©sar</strong>.</p>
          <h3>Por tr√°s da magia: aritm√©tica modular</h3>
          <p>Na cifra de C√©sar, cada letra vira um n√∫mero (A=0, B=1, ..., Z=25). Para criptografar, somamos um <em>deslocamento</em> (a chave) e aplicamos <code>mod 26</code> para ‚Äúvoltar‚Äù ao in√≠cio do alfabeto quando passar de Z.</p>
          <pre><code>novo√çndice = (√≠ndiceOriginal + deslocamento) mod 26
ex.: 'Z' (25) com deslocamento 3 ‚Üí (25 + 3) mod 26 = 2 ‚Üí 'C'</code></pre>
          <p>Descriptografar √© o processo inverso:</p>
          <pre><code>√≠ndiceOriginal = (novo√çndice ‚àí deslocamento) mod 26</code></pre>
          <p class="muted">‚ö†Ô∏è Observa√ß√£o: C√©sar √© did√°tico, mas fraco contra ataques modernos. Sistemas reais usam chaves enormes e opera√ß√µes matem√°ticas bem mais complexas (ex.: RSA, curvas el√≠pticas).</p>
        </div>
      </section>

      <section class="card span-5" aria-labelledby="demo-title">
        <div class="pad">
          <h2 id="demo-title">Demo: cifrar uma palavra</h2>
          <div class="controls">
            <label>
              Palavra ou frase
              <input id="text" type="text" placeholder="Ex.: SEGURAN√áA" aria-label="Texto para criptografar" />
            </label>
            <div class="row">
              <label style="flex:1">
                Deslocamento (0‚Äì25)
                <input id="shift" type="number" min="0" max="25" value="3" aria-label="Valor do deslocamento" />
              </label>
              <button id="btn-encrypt" title="Criptografar texto">Criptografar</button>
              <button id="btn-decrypt" class="secondary" title="Descriptografar texto">Descriptografar</button>
            </div>
          </div>
          <div class="result" id="output" aria-live="polite">Resultado aparecer√° aqui üîé</div>
          <div class="math-step" id="math-step" hidden>
            <small>Passo-a-passo da 1¬™ letra:</small>
            <div id="math-content"></div>
          </div>
        </div>
      </section>

      <section class="card span-12" aria-labelledby="estrutura-title">
        <div class="pad">
          <h2 id="estrutura-title">Boas pr√°ticas de estrutura</h2>
          <ul>
            <li>HTML sem√¢ntico: <code>&lt;header&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;section&gt;</code>.</li>
            <li>Organiza√ß√£o visual com <code>&lt;div&gt;</code> e classes reutiliz√°veis (ex.: <code>.card</code>, <code>.grid</code>).</li>
            <li>Separa√ß√£o de responsabilidades: HTML (estrutura), CSS (estilo), JS (comportamento) ‚Äî aqui est√£o juntos por praticidade no GitHub Pages.</li>
            <li>Acessibilidade: r√≥tulos, <code>aria-*</code> e contraste de cores.</li>
          </ul>
        </div>
      </section>
    </main>

    <p class="footer">Feito para fins did√°ticos ‚ú® ‚Äî Cifra de C√©sar com aritm√©tica modular <span class="pill">mod 26</span>.</p>
  </div>

  <script>
    // Utilidades de mapeamento letra <-> √≠ndice 0..25
    const A_CODE = 'A'.charCodeAt(0);
    const Z_CODE = 'Z'.charCodeAt(0);
    const a_CODE = 'a'.charCodeAt(0);
    const z_CODE = 'z'.charCodeAt(0);

    function isLetter(code){
      return (code >= A_CODE && code <= Z_CODE) || (code >= a_CODE && code <= z_CODE);
    }

    function shiftChar(code, shift, direction = 1){
      // direction: 1 = cifrar, -1 = decifrar
      const isUpper = code >= A_CODE && code <= Z_CODE;
      const base = isUpper ? A_CODE : a_CODE;
      const alphaIndex = code - base; // 0..25
      const moved = (alphaIndex + direction * (shift % 26) + 26) % 26; // mod 26 seguro
      return base + moved;
    }

    function caesar(text, shift, mode = 'encrypt'){
      const dir = mode === 'encrypt' ? 1 : -1;
      const outCodes = [];
      for (const ch of text){
        const code = ch.charCodeAt(0);
        if (isLetter(code)) {
          outCodes.push(shiftChar(code, shift, dir));
        } else {
          outCodes.push(code); // mant√©m espa√ßos, n√∫meros, pontua√ß√£o
        }
      }
      return String.fromCharCode(...outCodes);
    }

    function explainFirstStep(text, shift, mode){
      const dir = mode === 'encrypt' ? 1 : -1;
      const i = [...text].findIndex(ch => /[A-Za-z]/.test(ch));
      const box = document.getElementById('math-step');
      const content = document.getElementById('math-content');
      if (i === -1){ box.hidden = true; return }
      const ch = text[i];
      const code = ch.charCodeAt(0);
      const isUpper = code >= A_CODE && code <= Z_CODE;
      const base = isUpper ? A_CODE : a_CODE;
      const idx = code - base;
      const moved = (idx + dir * (shift % 26) + 26) % 26;
      const newChar = String.fromCharCode(base + moved);
      content.innerHTML = `
        <code>'${ch}' ‚Üí √≠ndice ${idx}</code><br>
        <code>(${idx} ${dir>0?'+':'‚àí'} ${shift%26}) mod 26 = ${moved}</code><br>
        <code>‚Üí '${newChar}'</code>
      `;
      box.hidden = false;
    }

    // Liga os bot√µes
    const $text = document.getElementById('text');
    const $shift = document.getElementById('shift');
    const $out = document.getElementById('output');

    document.getElementById('btn-encrypt').addEventListener('click', () => {
      const t = $text.value || '';
      const s = Math.max(0, Math.min(25, parseInt($shift.value || 0, 10)));
      const res = caesar(t, s, 'encrypt');
      $out.textContent = res || 'Nada para mostrar ainda üôÇ';
      explainFirstStep(t, s, 'encrypt');
    });

    document.getElementById('btn-decrypt').addEventListener('click', () => {
      const t = $text.value || '';
      const s = Math.max(0, Math.min(25, parseInt($shift.value || 0, 10)));
      const res = caesar(t, s, 'decrypt');
      $out.textContent = res || 'Nada para mostrar ainda üôÇ';
      explainFirstStep(t, s, 'decrypt');
    });

    // Demo amig√°vel ao carregar
    window.addEventListener('DOMContentLoaded', () => {
      $text.value = 'SEGURAN√áA DIGITAL';
      $shift.value = 3;
    });
  </script>
</body>
</html>
